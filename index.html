<!doctype html>
<html class="no-js" lang="en">
    <head>
        <!-- title -->
        <title>GeekGurus</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1" />
        <meta name="author" content="">
        <!-- description -->
        <meta name="description" content="">
        <!-- keywords -->
        <meta name="keywords" content="">
        <!-- favicon -->
        <link rel="shortcut icon" href="assets/small.png">
        
        <!-- animation -->
        <link rel="stylesheet" href="css/animate.css" />
        <!-- bootstrap -->
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <!-- et line icon --> 
        <link rel="stylesheet" href="css/et-line-icons.css" />
        <!-- font-awesome icon -->
        <link rel="stylesheet" href="css/font-awesome.min.css" />
        <!-- themify icon -->
        <link rel="stylesheet" href="css/themify-icons.css">
        <!-- swiper carousel -->
        <link rel="stylesheet" href="css/swiper.min.css">
        <!-- justified gallery  -->
        <link rel="stylesheet" href="css/justified-gallery.min.css">
        <!-- magnific popup -->
        <link rel="stylesheet" href="css/magnific-popup.css" />
        <!-- revolution slider -->
        <link rel="stylesheet" type="text/css" href="revolution/css/settings.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="revolution/css/layers.css">
        <link rel="stylesheet" type="text/css" href="revolution/css/navigation.css">
        <!-- bootsnav -->
        <link rel="stylesheet" href="css/bootsnav.css">
        <!-- style -->
        <link rel="stylesheet" href="css/style.css" />
        <!-- responsive css -->
        <link rel="stylesheet" href="css/responsive.css" />
  <style>
  @media (min-width: 1200px){
.container {
    width: 1000px;
}
}
  .border-color-extra-light-gray {
    border-color: #ff8d00;
}
.tab-style1 .nav-tabs li:hover i, .tab-style1 .nav-tabs li.active i {
    color: #ff8d00;
}
#batch p{margin: 6px 0 5px;}
  .container-fluid h5:after {
      border-bottom: 3px solid#ff8d00;
    content: '';
    position: absolute;
    left: 0;
    right: -19px;
    width: 8%;
    top: 57px;
    margin: 0 auto;
}
h1, h2, h3, h4, h5, h6 {
    margin: 0px 0 11px;}
hr {
    margin-top: 7px;
    margin-bottom: 6px;}
  .section-decor h5:after {
      border-bottom: 3px solid #ff8d00;
    content: '';
    position: absolute;
    left: 0;
    right: -19px;
    width: 8%;
    top: 57px;
    margin: 0 auto;
}
input[type="text"]{height: 41px;
    border-radius: 0;
    border-top: none;
    border-left: none;
    border-right: none;}
  
  .header-with-topbar .navbar-top{top:0px;}
  header a.logo img {
    max-height: 45px;
}
.fa{    color: rgb(249, 185, 15);}
.bg-light-gray:hover{    box-shadow: 3px 5px 8px 0px #efefef !important;}
.bg-deep-pink {
    background-color: #ff8d00;
}
.text-extra-dark-gray {
    color: #18458B;
}
.dropdown:hover>.dropdown-menu {
  display: block;
}

.dropdown>.dropdown-toggle:active {
  /*Without this, clicking will make it sticky*/
    pointer-events: none;
}
.swiper-pagination-bottom.swiper-container-horizontal .swiper-wrapper {
    margin: 0 0 49px 0;
}

.dropdown-item {
    display: block;
    width: 100%;
    padding: 8px 1.5rem;
    clear: both;
    font-weight: 400;
    color: #212529;
    text-align: inherit;
    white-space: nowrap;
    background: 0 0;
    border-bottom: 1px solid #eee;
}

h5 {
    font-size: 20px;}
p,li{font-size: 17px; color:#222;text-align:justify;}
.dropdown-menu{min-width: 215px;}

.tit{
font-size: 33px;
padding: 10px; 
background: #44A08D;
background: linear-gradient(to right, #44a08d, #093637);
color: #fff;
box-shadow: 5px 5px 10px 5px lightgray;
}
.btn-li{
    padding: 8px;
    border: none;
    background: #0575e6;
    color:#fff;
    border-radius: 5px;
    font-size: 15px;
}
.btn-li:hover{
    border: 1px solid #000;
    background: none;
}

.list-un{
    list-style: none;
    line-height: 40px;
    padding-left: 0;
}
.code-bash{
    color: #000;
    font-family: Monaco,MonacoRegular,monospace;
    border: 1px solid #ef8f35;
    border-left: 1rem solid #ef8f35;
    line-height: 35px;
    text-align: left;
    padding-bottom: -10px !important;
    height: 300px;
    padding: 0;
}
h5.en-tit {
    margin-top: 3%;
    font-size: 27px;
    padding: 10px;
    border: 1px solid lightgray;
    background: #FFF;
    box-shadow: 2px 2px 3px 2px lightgrey;
}
.tit-heade{
    color: #000;
    line-height: 33px;
    padding: 1%;
    margin-bottom: 2%;
    font-size: 15px;
    background-color: #f8f8f8;
}
.row.head-tit {
    margin-top: 5%;
}
.bt-a {
    margin-bottom: 2%;
}
h4{
    font-size: 25px;
}
.list-style-10 li {
    padding: 4px 0;}
.container{background-color:#fff;padding: 0% 2% 8% 3%;}
body{background-color:#f7f7f7;}
.bg{    background-color: #eee;
    padding: 1%;}
  </style>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    </head>
    <body>
        <!-- start header -->
       
        <!-- end header -->
     

        <section class="wow fadeIn bg-light-gray" style="padding:0px 0px !important;">
		 
                <div class="container">
                    <div class="row head-tit">
                      <div class="col-md-12">
                      <img src="assets/icon.png" style="float:right;    margin-top: -2%;" >
                         <h4 style="font-size:28px;font-weight: 600;">Lab Guide: Core Elasticsearch for Developers</h4>
                      </div>  
                    </div>
                    <div class="row">
                        <div class="col-md-6 col-sm-10 col-xs-12">
                            <ul class="no-padding list-style-10">
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-1">Lab 1: An Introduction to Elasticsearch</a></span></li> 
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-2">Lab 2: The Search API</a></span></li> 
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 3: Text Analysis</a></span></li> 
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 4: Mappings</a></span></li>
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 5: More Search Features</a></span></li>
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 6: The Distributed Model</a></span></li>
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 7: Working with Search Results</a></span></li>
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 8: Aggregations</a></span></li>
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 9: More Aggregations</a></span></li> 
                                <li><i class="fas fa-arrow-right text-extra-dark-gray" aria-hidden="true"></i><span><a href="#batch-3">Lab 10: Handling Relationships</a></span></li> 
                            </ul>
                        </div>
                    </div>
             
			 
			 
                <div class="row" style="padding-top:3%;" id="batch-1">
                    <!-- start feature box item -->
                    <div class="col-md-12 col-sm-12 col-xs-12 sm-margin-five-bottom sm-text-center xs-margin-30px-bottom ">
                       
                       <h4 class="text-extra-dark-gray font-weight-600 alt-font no-margin bg">Lab 1: An Introduction to Elasticsearch</h4>
                        <h5>Show instruction for in-person classroom training</h5>
                        <hr>
                 
                  
                        <p><b>Objective:</b> In this lab, you will see how quickly and easily the Elastic Stack can be used to search a dataset. You will use Logstash to index a dataset into Elasticsearch, then run queries from Kibana to search the indexed dataset.
                        </br> </br>
                        <b>NOTE:</b>   Throughout this first lab, we will refer to a CoreDeveloper folder, which is the folder on your computer where you unzipped the course lab file. (If you did not rename the folder during decompression, then it should actually be named CoreDeveloper on your computer.) Your CoreDeveloper folder should contain the following subfolders:</p>
                        <hr style="    margin-top: 25px;
                        margin-bottom: 25px;">

                        <ul class="list-un" style="line-height: 28px;">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Datasets: contains the data used in the labs and lecture</li> 
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Instructions: contains this index.html file</li> 
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Elasticsearch: contains Elasticsearch</li> 
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Logstash: contains Logstash</li> 
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Kibana-windows-x86: contains the Windows version of Kibana</li> 
                        </ul>
                        <p>Notice there are also one Mac and two Linux versions of Kibana still in compressed files.</p>
                    </div>
                   
                     
                </div>
                <hr style="    margin-top: 30px;
                margin-bottom: 35px;">
                
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12 ">
                            <h5 class="alt-font tit-heade">1. Open a Terminal or Command Prompt and change directories to your CoreDeveloper folder. Start Elasticsearch using the following command: </h5>
                        
                        <h5>Windows users:</h5>
                        <pre class="bash">elasticsearch\bin\elasticsearch</pre>

                    </br>

                        <h5 >Mac/Linux users:</h5>
                        <pre class="bash">elasticsearch/bin/elasticsearch</pre>
                       

                    </br>  

                    <h5 class="alt-font tit-heade">
                    2. Wait for Elasticsearch to start up. You will know it is ready when you see an output similar to: 
                    </h5>
                    <pre class="bash">[INFO ][o.e.n.Node               ] [v7Uzz7C] started</pre>

                    <br>
                    <h5>Having problems starting Elasticsearch?</h5>
                        <ul class="list-un">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Make sure you have the JDK (Java Development Kit) installed and not just a JRE (Java Runtime Environment): 
                               
                               <li>
                            <div class="solution"> 
                                Run the following command, which shows the version of Java you are using:
                                <pre class="bash">java -version</pre>
                                Now run the following command, which verifies if you have the JDK installed:
                                <pre class="bash">javac -version</pre>
                                If you already installed the JDK, make sure your <kbd>JAVA_HOME</kbd> is set properly (see the next tip). If you have not installed a JDK, download the latest JDK 8.x version here: <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a>
                            </div> 
                        </li>
							
							<li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Make sure JAVA_HOME is defined: 
                                <div class="solution"> 
                                
                                        <strong>Mac users:</strong> The command will look similar to the following. Replace the folder shown here with the path to your JDK install folder:
                                        <pre class="bash" style="    line-height: 30px;">export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_xx.jdk/Contents/Home
export PATH=$PATH:$JAVA_HOME/bin</pre>
                                   
                                        <strong>Linux users:</strong> The command will look like:
                                        <pre class="bash" style="    line-height: 30px;">export JAVA_HOME=<em>jdk-install-directory</em>
export PATH=$PATH:$JAVA_HOME/bin
                                        </pre>
                                    
                                    <li>
                                        <strong>Windows users:</strong>
                                        <ol>
                                            <li>Open the "Properties" dialog by either searching for it, or you can right-click on <kbd>My Computer</kbd> and select <kbd>Properties</kbd>.</li>
                                            <li>Select the <kdb>Advanced</kdb> tab.</li>
                                            <li>Click on the <kbd>Environment Variables</kbd> button.</li>
                                            <li>Add a new SYSTEM variable named <kbd>JAVA_HOME</kbd> that points to the folder where your JDK is installed. For example, <kbd>C:\Program Files\Java\jdk1.8.0_xx</kbd></li>
                                            <li>Add the following to the end of your PATH environment variable:
                                            <kbd>%JAVA_HOME%\bin</kbd>
                                            </li>
                                            <li>
                                                You will need to open a new Command Prompt for these settings to take effect.
                                            </li>
                                        </ol>
                                    </li>
                               
                            </div> 
                           
                           
                               
                        </ul>
<ul class="list-un">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Make sure you have the JDK (Java Development Kit) installed and not just a JRE (Java Runtime Environment): 
                               
                               <li>
 <i class="fa fa-long-arrow-right" aria-hidden="true"></i><b> If you do not have enough free disk space available?</b> 
                          </li>
						    <div class="solution"><p>  Not enough free disk space will lead to a warning about shards not being assigned to your node, because a low watermark has been exceeded. If you are not able to free disk space, you can choose to start Elasticsearch with the <kbd>-E cluster.routing.allocation.disk.threshold_enabled=false</kbd> option instead. 
                              </p>
                                   <h5> Mac/Linux users:  </h5> <pre class="bash">elasticsearch/bin/elasticsearch -E cluster.routing.allocation.disk.threshold_enabled=false</pre>    
                                   <h5>  Windows users:   </h5><pre class="bash">elasticsearch\bin\elasticsearch.bat -E cluster.routing.allocation.disk.threshold_enabled=false</pre>
                                   
                            </div> 
						  </ul>

                        <h5 class="alt-font tit-heade">
                          3. Open your Web browser and go to http://localhost:9200.<br>
                          You should see the start page that verifies Elasticsearch is running on your localhost - a simple JSON object that will look similar to:
                        </h5>

        
                        <pre class="code-bash">
    {
      "name" : "v7Uzz7C",
      "cluster_name" : "elasticsearch",
      "cluster_uuid" : "Zsni5GRwSO6SlEDdYOzW5Q",
      "version" : {
        "number" : "5.x.x",
        "build_hash" : "5395e21",
        "build_date" : "2016-12-06T12:36:15.409Z",
        "build_snapshot" : false,
        "lucene_version" : "6.3.0"
      },
      "tagline" : "You Know, for Search"
    }
                        </pre>

                        <br>

                        <ul class="list-un" style="line-height: 39px;">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> What is the version of your Elasticsearch instance? 
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> <b>What is the name of your node? </b><br>
                           <p>In the output above, the node is named "v7Uzz7C"</p>
                            </li>
                            
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i><b> What is the name of your cluster? </b><br>
								<p>In the output above, the cluster is named "elasticsearch". Your cluster should be named "elasticsearch" also</p>
                            </li>
                            
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i><b> How did these names get assigned to your node and cluster?</b> </br>
								<p>The cluster name "elasticsearch" is the default, and the node name is randomly generated. We will discuss how to configure these values in Chapter 5</p>
                            </li>
                        </ul>

                        <h5 class="alt-font tit-heade">
                          4. The dataset you are going to be using is a collection of products sold in stores. The fields in the dataset consist of:
                        </h5>

                        <ul class="list-un" style="line-height: 35px;">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> grp_id: a</strong> unique ID for each row </a></li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> upc12: a</strong> 12-digit string containing the Universal Product Code</li>
                           <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> brandName:</strong> the name of the company that makes the product</li>
                           <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> productName:</strong> the name of the product</li>
                           <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> customerRating:</strong> an integer value between 1 and 5, where 5 is the highest rating</li>
                           <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> price:</strong> 
                           a float value representing the price of the product</li>
                           <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> quantitySold:</strong>
                           an integer value representing the number of units sold</li>
                        </ul>

                        <p>Review this small sample of what the data looks like (you need to scroll to the right to see the entire row):
                        </p>

                      

                    <pre class="code-bash" style="overflow-x: auto;padding: o;">
                        
    20,204040000000,Usda Produce,Plums Black,3,1.39,68603
    21,753950001954,Doctor's Best,Doctor's Best Best Curcumin C3 Complex 1000mg Tablets - 120 Ct,2,1.75,651857
    22,016000288829,Betty Crocker,Betty Crocker Twin Pack Real Potatoes Scalloped 2 Pouches For 2 Meals - 2 Pk,2,4.22,527899
    23,070670009658,Reese,Reese Mandarin Oranges Segments In Light Syrup,2,3.73,104348
    24,688267084225,Smart Living,Smart Living Charcoal Lighter Fluid,5,3.20,637769
    25,044100117428,Hood,Hood Latte Iced Coffee Drink Vanilla Latte,5,5.99,166777
                        </ul>
                    </pre>

                    <br>

                    <h5 class="alt-font tit-heade">
                          5. You are going to index the products CSV file into Elasticsearch using Logstash. Start by opening a new Terminal or Command Prompt and changing directories to your CoreDeveloper folder.
                    </h5>

                    

                    <h5 class="alt-font tit-heade">
                          6. Now run Logstash with the provided products.conf Logstash config file by entering the following command: 
                    </h5>

                    <h5>Windows users:</h5>
                        <pre class="bash">type datasets\products\products.csv | logstash\bin\logstash -f datasets\products\products.conf</pre>

                    </br>

                    <h5>Mac/Linux users:</h5>
                        <pre class="bash">cat datasets/products/products.csv | logstash/bin/logstash -f datasets/products/products.conf</pre>


                    <br />

                    <p style="font-size: 15px;font-weight: bold;">If successful, the output from Logstash will look similar to the following:</p>

                         <pre class="bash">
    [INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>1000}<br>
    [INFO ][logstash.pipeline        ] Pipeline main started<br>
    [INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}<br>
    [WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
                         </pre>

                    <br>

                    <h5 class="alt-font tit-heade">
                          7. To verify the products dataset was indexed properly into Elasticsearch, go to http://localhost:9200/_cat/indices?v. Your products index should apear in the list of indices. (Notice the size may vary depending on your operating system but should be around 40-43mb):
                    </h5>

                    <pre class="bash">
health status index    uuid     pri rep docs.count docs.deleted store. <br />
green  open   products LstCWt7vSuKiXjEefU9UlA   2   0     110435     0  26.8mb         26.8mb
                    </pre>

                    <br>

                    <h5 class="alt-font tit-heade">
                          8. To view the products data, use the Search API with the following URL: http://localhost:9200/products/_search. You should see 10 products (10 is the default search size). The products displayed will likely vary from the output below, but notice the output is not very pretty:
                    </h5>

                    <pre class="bash">
h{"took":5,"timed_out":false,"_shards":{"total":5,"successful":5,"failed":0},"hits":{"total":110435,"max_score":1.0,"hits":[{"_index":"products","_type":"product","_id":"24444","_score":1.0,"_source":{"brandName":"Dr. Pepper","customerRating":5,"price":14.64,"grp_id":"24444","quantitySold":720668,"upc12":"078000082104","productName":"Dr Pepper - 24 Ct"}},
                    </pre>

                    <br>

                    <h5 class="alt-font tit-heade">
                          9. Change the URL to include the pretty argument: http://localhost:9200/products/_search?pretty. The output should now look much nicer:
                    </h5>

                    <pre class="bash" style="line-height: 25px;">
{
  "took" : 1,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 110435,
    "max_score" : 1.0,
    "hits" : [
      {
        "_index" : "products",
        "_type" : "product",
        "_id" : "53913",
        "_score" : 1.0,
        "_source" : {
          "brandName" : "Hershey's", 
          "customerRating" : 1,
          "price" : 4.41,
          "grp_id" : "53913",
          "quantitySold" : 151880,
          "upc12" : "034000173150",
          "productName" : "Hershey's Mr. Goodbar Chocolate And Peanut Bar"
        }
      },
                    </pre>

                    <br>

                    <h5 class="alt-font tit-heade">
                          10. Based on the output of your product search:
                    </h5>

                    <ul class="list-un" style="line-height: 39px;">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> <b>How many documents were indexed? </b><br>
                               <p>The "total" field shows the number of hits, which is 110,435.</p>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i><b> What is the _type of each document? </b><br>
								<p>product</p>
                            </li>
                        </ul>

                        

                    <h5 class="alt-font tit-heade">
                          11. Next, you are going to start Kibana. Linux and Mac users will need to unzip the appropriate Kibana file for your architecture. (Mac users unzip the kibana-darwin-x86_64.tar.gz file.) From a new Terminal or Command Prompt, change directories to CoreDeveloper, then run the following command: 
                    </h5>

                    <h5>Windows users:</h5>
                        <pre class="bash">kibana-windows-x86\bin\kibana</pre>

                    </br>

                    <h5>Mac users:</h5>
                        <pre class="bash">kibana-5.x.x-darwin-x86_64/bin/kibana</pre>

                    <br>

                    <h5>Linux users:</h5>
                        <pre class="bash">kibana-5.x.x-linux-x86_64/bin/kibana</pre>

                    <br />

                    <h5 class="alt-font tit-heade">
                          12. To verify Kibana is running, open your Web browser and go to http://localhost:5601. The Kibana application should appear. 
                    </h5>

                   

                    <h5 class="alt-font tit-heade">
                          13. Click on the Dev Tools button in the side navigation pane to open the Console application: 
                    </h5>

                    <img src="assets/images/lab01_02.png">


                    <br />
                    <br>
                    <h5 class="alt-font tit-heade">
                          14. <strong>TIP:</strong> Click the Get to work button to close the Help panel. 
                    </h5>

                    <h5 class="alt-font tit-heade">
                          15. Notice there is a match_all query already written in the Console. Go ahead and run it by clicking the green "play" button that appears to the right of the command. This search hits all documents in all indexes of your cluster. Notice the output is similar to the output you saw a few minutes ago, but displayed nicely in the Console screen: 
                    </h5>

                    <img src="assets/images/lab01_04.png">

                    <br />
                    <br>
                    <h5 class="alt-font tit-heade">
                          16. Now let's search for products. Enter the following query into the Console, just below your first command. It answers the question "Which products have peanut or butter in the product name?". Feel free to copy-and-paste the command: 
                    </h5>

                    <pre class="bash" style="background: none !important; color:#000 !important;line-height: 30px;">
GET products/_search
{
  "size": 25, 
  "query": {
    "match": {
      "productName": "peanut butter"
    }
  }
}

                    </pre>

                    <br>
                    <p style="font-size: 15px;">Click the green play button next to this new query, or you can use the keyboard shortcut Command+Enter on a Mac or Ctrl+Enter on a PC. The output will show the top 25 results of products with "peanut" or "butter" in the productName field:</p>

                    <br />

                    <img src="assets/images/lab01_05.png">


                    <br />
                    <br>
                    <h5 class="alt-font tit-heade">
                          17. Based on the results of your previous search: 
                    </h5>

                    <ul class="list-un" style="line-height: 39px;">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i><b> How many products in the dataset match "peanut butter" in the product name?</b> <br>
								<p>2,011</p>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> <b>What was the max_score of the results?</b> <br>
								<p>The value in the screenshot above is 10.45588. Your value of max_score may vary.</p>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i><b> Would you say that your top results were relevant to "peanut butter"?</b> <br>
								<p>It seems like the search did a good job. The top hits are all related to peanut butter somehow.</p>
                           
						   </li>
                        </ul>

                    <h5 class="alt-font tit-heade">
                          18. Change the term "peanut butter" to "Peanut Butter" and run the query again. What is different in the results, if anything?  
                    </h5>

                   <p>Notice you get the exact same results with the same scores. You will find out why in Chapter 3 when we discuss Text Analysis.</p>

                    <br/>
                    <br>
                    <h5 class="alt-font tit-heade">
                          19. Run a search for <strong>"kasmati rice"</strong> in the "productName", then answer the following questions:  
                    </h5>

                    <ul class="list-un" style="line-height: 39px;">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> How many hits are there? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small bt-a">Show answer:</a>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> What was the _score of the top hit? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small bt-a">Show answer:</a>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> View the scores of the next few hits. Why do you think the top hit had a much higher score than all the other hits? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small bt-a">Show answer:</a>
                            </li>
                        </ul>
                    <h5 class="alt-font tit-heade">
                          20. Compare the following search to the previous ones you executed. Notice the field being searched on is now customerRating. Run the following query, which answers the query: <i>"Find all products with a customer rating of 4"</i>:  
                    </h5>

                     <pre class="bash" style="background: none !important; color:#000 !important;line-height: 28px;">

GET products/_search
{
  "query": {
    "match" : {
      "customerRating" : 4
    }
  }
}

                    </pre>
                        <br>
                    <p style="font-size: 18px;">Notice the score for each hit is simply 1. Why do you think all matching documents have the same score? </p>

                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                     <br />
                     <br>
                    <h5 class="alt-font tit-heade">
                          21. Write a query that finds all products whose price field is exactly 10.00. You should get 44 hits.  
                    </h5>

                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br />
                    <br>
                    <h5 class="alt-font tit-heade">
                          22. Aggregations are an important feature of Elasticsearch. Instead of searching your data, you can answer analytical questions like "How many products do I have?" or "Which product is generating the most revenue?". For example, the following aggregation answers the question "What is the average price of all products in the dataset?":  
                    </h5>

                     <pre class="bash" style="background: none !important; color:#000 !important;line-height: 28px;">

GET products/_search
{
  "aggs": {
    "my_avg_price": {
      "avg": {
        "field": "price"
      }
    }
  }, 
  "size": 0
}

                    </pre>

                    <br>

                    <p>Run this query in the Console. You should see the average value of the price field is about $14.00. We will discuss aggregations in detail later in Chapters 8 and 9.</p>

                    <br />

                    <h5 class="alt-font tit-heade">
                          23. <strong>The remainder of this lab is OPTIONAL:</strong> Perform a bulk operation and add the following documents to an index named <strog>my_orders</strog> with a type named order. Let Elasticsearch generate the _id field for each document (by leaving off _id in the "index" command):  
                    </h5>

                    <pre class="bash" style="background: none !important; color:#000 !important;">
{"customer_id" : "55","items" : [{"upc12" : "044000025298","quantity" : 12,"price" : 2.98}]}<br>
{"customer_id" : "401","items" : [{"upc12" : "044000032258","quantity" : 1,"price" : 3.04}]}<br>
{"customer_id" : "3","items" : [{"upc12" : "014100042181","quantity" : 4,"price" : 2.88}]}
                    </pre>

                    <br>

                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br />
                    <br>
                    <h5 class="alt-font tit-heade">
                          24. Verify the bulk request worked by running a _search query on my_orders.  
                    </h5>

                    

                    <p style="font-size: 15px"><strong>Summary:</strong> In this lab, you saw how quickly and easily data can be indexed and searched using the tools of the Elastic Stack. You now have Elasticsearch running on your computer, and we will use the indexed products dataset throughout the labs.</p>


                    <h5 class="en-tit">END LAB: 1</h5>
                        </div>
                </div>
             
                </div>
            </div>
        </section>

            <!-- end first point -->
          

        <section class=" xs-text-center" style="padding: 0px 0;    margin-top: -1%;" id="batch-2">
            <div class="container">  
                <div class="row">
                    <!-- start feature box item -->
                    <div class="col-md-12 col-sm-12 col-xs-12 sm-margin-five-bottom sm-text-center xs-margin-30px-bottom ">
                        <h4 class="text-extra-dark-gray font-weight-600 alt-font no-margin bg">Lab 2: The Search API</h4>
                        <br>
                        <p><strong>Objective:</strong> In this lab, you will write various queries that search documents in the products index using Search API queries like match, match_phrase, range and bool.</p>

                    <h5 class="alt-font tit-heade">
                          1. Write and execute a query that matches all the documents in the products index. The hits response should contain 110,435 hits, but notice you only get back 10 hits because the default value of "size" for a query is 10:  
                    </h5>

                     <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 110435,
    "max_score": 1
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          2. Add the "size" parameter to your previous search and set it to 100. You should now see 100 products in the results.   
                    </h5>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          3. Write and execute a match query for products that have the term "rice" in the productName field. Your should get 1,618 hits:   
                    </h5>
                    <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 1618,
    "max_score": 6.455967,
                    </pre>

                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          4. Now run a match query for "rice pilaf" in the productName field. Why did the number of hits go up by adding a term to the match?   
                    </h5>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                    <br>
                    <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 1635,
    "max_score": 14.195505,
                    </pre>

                     <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          5. Change the operator of your previous match query to and, then run it again. Notice this changes the response drastically, as there are now only 40 hits:   
                    </h5>
                
                    <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 40,
    "max_score": 14.195505,
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          6. Run the previous query for "rice pilaf" again, but this time add the following "_source" clause after the "query" clause. Queries use the JSON format, so you will also need to add a comma after the final right curly brace } of the "match" clause:   
                    </h5>

                     <pre class="bash" style="line-height: 28px;">
"_source" : {
    "includes": ["price", "productName"]
  }
                    </pre>
                    <p>Notice the results now only contain the <strong>"price"</strong> and <strong>"productName"</strong> fields. </p>

                   
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          7. Run a query that answers the question: "Which products have vegetarian or baked or beans in the productName?" You should get 1,544 hits:   
                    </h5>

                     <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 1544,
    "max_score": 18.82671,
                    </pre>

                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                     <br>
                    <h5 class="alt-font tit-heade">
                          8. Run a query that answers the question: <i>"Which products have a productName that includes at least 2 of the terms vegetarian or baked or beans?"</i> You should get 75 hits this time:   
                    </h5>

                     <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 75,
    "max_score": 18.82671,
                    </pre>

                    <br>

                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                     <br>
                      <br>
                    <h5 class="alt-font tit-heade">
                          9. Answer the question: <i>"What is the productName, price and customerRating of products that have a productName that includes all of the terms vegetarian baked beans?"</i> You should get 7 hits this time:   
                    </h5>

                     <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 7,
    "max_score": 18.82671,
    "hits": [
      {
        "_index": "products",
        "_type": "product",
        "_id": "98057",
        "_score": 18.82671,
        "_source": {
          "customerRating": 4,
          "price": 4.77,
          "productName": "Beans Baked Vegetarian"
        }
      },
                    </pre>

                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          10. Run a match_phrase search for olive oil in the productName field. You should get 403 hits:   
                    </h5>

                     <pre class="bash" style="line-height: 28px;">
"hits": {
    "total": 403,
    "max_score": 10.06116,
                    </pre>

                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          11. Let's analyze the hits from the "olive oil" search:   
                    </h5>
                    <ul class="list-un" style="line-height: 39px;">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> What was the maximum _score? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small bt-a">Show answer:</a>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> How many documents achieved the highest _score? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small bt-a">Show answer:</a>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> If you were searching for "olive oil" to do some Italian cooking, do you see any issues with some of results from the group of documents with the highest score? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                            </li>
                        </ul>


                    <h5 class="alt-font tit-heade">
                          12. It looks like soap is commonly made out of olive oil. Assuming we are not looking for soap, write a match_phrase query that must contain olive oil in the productName but must_not contain soap. Your top hits should look much better now for cooking.   
                    </h5>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          13. Run a match_phrase query for "chocolate cookies" on the productName field with a "size" of 200 (even though there will only be 20 hits initially).    
                    </h5>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          14. Add a slop property of 1 to the previous search and run it again. You should get 137 hits.    
                    </h5>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br>
                    <br>
                    <h5 class="alt-font tit-heade">
                          15. Scroll down toward the end of the results of your previous search. Notice how the slop property added hits like <strong>"chocolate chip cookies"</strong> and <strong>"chocolate graham cookies"</strong>.    
                    </h5>

                    <h5 class="alt-font tit-heade">
                          16. Change the slop parameter to 2 and run the previous search again. Notice the numbers of hits goes up to 208. Scroll down and look at some of the last hits like <strong>"Glutino Gluten Free Vanilla Milk Chocolate Coated Wafer Cookies" and "Ginnybakes Fresh Baked Organic Gluten-free Cookies Chocolate Chip Love"</strong>. How does does a product with the terms reversed <strong>("cookies chocolate")</strong> become a hit?     
                    </h5>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                    <br> <br> <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                    <br>
                    <br>

                    <h5 class="alt-font tit-heade">
                          17. <strong>OPTIONAL:</strong> Suppose you have a customer looking for a healthy rice. Write and execute a search that satisifes the following requirements:     
                    </h5>
                    <ul class="list-un">
                        <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> productName</strong> must contain <strong>"rice"</strong></li>
                        <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> brandName</strong> must contain <strong>"rice"</strong></li>
                        <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i><strong> productName</strong> should contain at least one of the terms <strong>"original"</strong> or <strong>"organic" </strong></li>
                    </ul>
                    <p>There is more than one way to solve this query, but your top hit should be:</p>
                    <br>
                    <pre class="bash" style="line-height: 28px;">

"hits": {
    "total": 10,
    "max_score": 18.650776,
    "hits": [
      {
        "_index": "products",
        "_type": "product",
        "_id": "1677",
        "_score": 18.650776,
        "_source": {
          "brandName": "Rice Dream",
          "customerRating": 1,
          "price": 2.06,
          "grp_id": "1677",
          "quantitySold": 586023,
          "upc12": "084253222303",
          "productName": "Rice Dream Rice Drink Original Organic"
        }
      },
                    </pre>
                    <br> <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br> <br>  <br>

                    <p style="font-size: 16px;"><strong style="font-size: 22px;">Summary:</strong> In this lab, you became familiar with how to write search queries, one of the most important and frequ</p>

                  


                </div>
            </div>
        </div>
    </section>

<!-- end lab 2 section -->

<!-- start lab 3 section -->

<section class=" xs-text-center" style="padding: 0px 0;margin-top:-1%;" id="batch-3">
            <div class="container">  
                <div class="row">
                    <!-- start feature box item -->
                    <div class="col-md-12 col-sm-12 col-xs-12 sm-margin-five-bottom sm-text-center xs-margin-30px-bottom ">
                        <h4 class="text-extra-dark-gray font-weight-600 alt-font no-margin bg">Lab 3: Text Analysis</h4>

                        <br>
                            
                        <p style="font-size: 16px;"><strong style="font-size: 22px;">Objective:</strong> In this lab, you will perform the steps for configuring text analysis in Elasticsearch. You will use the Analyze API to see how the built-in analyzers work, then define custom analyzers by configuring character filters, tokenizers and token filters.</p>

                        

                        <h5 class="alt-font tit-heade">
                          1. Test the following text using the <strong>Analyze API. Do not specify an analyzer - just use the default one:</strong>   
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>

                        <h5 class="alt-font tit-heade">
                          2. What was the default analyzer used in the previous step?    
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>

                        <h5 class="alt-font tit-heade">
                          3. Test the text again, but use the whitespace analyzer. What is the difference?    
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br /><br>

                        <h5 class="alt-font tit-heade">
                          4. Change the analyzer a few more times, testing the stop, keyword and english analyzers on the same text and comparing the different outputs.    
                        </h5>
                        <ul class="list-un">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> If you needed to write an application that searched text similar to this comment about a restaurant, which of these analyzers do you think would work best?
                            </li>
                        </ul>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                        <br /> <br>

                        <h5 class="alt-font tit-heade">
                          5. Using the _analyze endpoint, define a character filter that maps dashes "-" to underscores "_". Test it on the following text:    
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   "text": ["half-time", "-test", "test-", "650-555-1234"]
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>

                        <h5 class="alt-font tit-heade">
                          6. See if you can figure out how to modify your previous character filter so that it removes dashes "-" instead of replacing them. Test it with the same text.     
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br /> <br>

                        <h5 class="alt-font tit-heade">
                          7. Configure a mapping character filter that converts the ":)" emoticon to the word <strong>"happy"</strong> and the ":(" emoticon to <strong>"sad"</strong>. Test it on the following text:    
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   text": ["Thanks! :)", "Feeling :( today"]
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br /> <br>

                        <h5 class="alt-font tit-heade">
                          8. Analyze the following text using the standard tokenizer and the lowercase and snowball filters:    
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   "text": ["The rain in Spain falls mainly on the plain."]
                    </pre>
                    <br>
                    <p>Now analyze the same text using just the english analyzer, and compare the results of the two outputs. What is different between these two techniques? </p>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br /> <br>

                        <h5 class="alt-font tit-heade">
                          9. Do not run the following <strong>_analyze</strong> command, but instead guess what the output is:    
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   GET _analyze
    {
      "tokenizer": "whitespace",
      "filter": ["stop","snowball"],
      "text": ["The rain in Spain falls mainly on the plain."]
    }
                    </pre>

                    <br /> <br>

                        <h5 class="alt-font tit-heade">
                          10. Copy-and-paste the previous command into the <strong>Console</strong> and run it to see if you guessed the output correctly.    
                        </h5>

                        <h5 class="alt-font tit-heade">
                          11. Using _analyze, configure and test an analyzer that satisfies the following:    
                        </h5>
                        <ul class="list-un">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> uses the standard tokenizer
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> uses the lowercase token filter
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> uses the asciifolding token filter
                            </li>
                        </ul>
                        <p>Test your analyzer with the exact text here by copy-and-pasting it:</p>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   "text": [" Es un espectáculo público."]
                    </pre>
                    <br>
                    <p>Run the command with and without <strong>asciifolding</strong> to see its effect on special characters.</p>

                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>


                        <br/> <br>

                         <h5 class="alt-font tit-heade">
                          12. You are familiar with the data in the products index. Configure your own <strong>analyzer</strong> for processing the <strong>productName</strong> field. Create a temporary index named <strong>temp_products</strong> for defining your custom <strong>analyzer</strong>, which at a minimum should:    
                        </h5>
                        <ul class="list-un">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> lowercase all text
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> merge apostrophes and hyphens into one word. For example, "Newman's" should analyze to <strong>"newmans"</strong>, and <strong>"Newman-o's"</strong> should analyze to <strong>"newmanos"</strong>
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> remove any stop words
                            </li>
                        </ul>
                        <p>Use the following products for testing:</p>
                        <pre class="bash" style="line-height: 28px;padding:0;">

   "text": [
    "Lean Cuisine Spa Collection Szechuan-style Stir Fry With Shrimp",
    "Ahold Pure Softness Fabric Softener Dryer Sheets Outdoor Scent - 40 Ct",
    "Newman's Own Organics Newman-o's Original Creme Filled Chocolate Cookies"
    ]
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br/> <br>

                         <h5 class="alt-font tit-heade">
                          13. <strong style="font-size: 18px;">OPTIONAL:</strong> Configure a pattern_replace character filter that removes "http://" from URLs that start with "http://". Test it with a simple URL:    
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   "text" : "http://www.elastic.co"
                        </pre>
                        <br>
                        <p>The output should be a single token:</p>
                        <br>
                         <pre class="bash" style="line-height: 28px;padding:0;">

       {
      "tokens": [
        {
          "token": "www.elastic.co",
          "start_offset": 0,
          "end_offset": 21,
          "type": "<ALPHANUM>",
          "position": 0
        }
      ]
    }
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                    <br/> <br>

                         <h5 class="alt-font tit-heade">
                          14. <strong>OPTIONAL:</strong> Define a new index named finance that defines a custom analyzer that satisfies the following criteria:   
                        </h5>
                        <ul class="list-un">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Uses a custom character filter named <strong>"emoticons"</strong> that is identical to the character filter from earlier in this lab, where :) mapped to <strong>"happy"</strong> and :( mapped to "sad"
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i>Uses a custom token filter named <strong>"finance_synonyms"</strong> that is a <strong>"synonym"</strong> token filter. The terms <strong>"loan"</strong> and <strong>"mortgage"</strong> should be synonyms, and the term <strong>"bank"</strong> should be a synonym for <strong>"lender"</strong> (but not the other direction)
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> The name of your custom analyzer is <strong>"finance_analyzer"</strong>
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Uses the <strong>"standard"</strong> tokenizer
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> Uses the <strong>"lowercase"</strong> and <strong>"stop"</strong> token filters
                            </li>
                        </ul>
                        
                        <p>Test your <strong>"finance_analyzer"</strong> using the <strong>_analyze</strong> command on the <strong>finance</strong> index with the following text:</p>
                       
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

   "text" : [
    "I need a loan :(", 
    "My bank mortgage is paid! :)"
    ]
                        </pre>
                        <br>
                        <p>The output should contain the following tokens:</p>
                       
                        <pre class="bash" style="line-height: 28px;padding:0;">

       "token": "i"
      "token": "need"
      "token": "loan"
      "token": "mortgage"
      "token": "sad"
      "token": "my"
      "token": "lender"
      "token": "mortgage"
      "token": "loan"
      "token": "paid"
      "token": "happy"
                    </pre>
                    <br>
                    <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                    <br>
                    <br>
                    <p style="font-size: 16px;"><strong style="font-size: 18px;">Summary:</strong> Well done! This lab was a lot of work, and hopefully you are now comfortable with defining, configuring and testing analyzers. When working with text, it is critical that you use an analyzer that makes sense for your data and your search use cases.</p>


                    </div>


                </div>
            </div>
</section>
 <hr>
<!-- start lab 3 section -->

<section class=" xs-text-center" style="padding: 0px 0;" id="batch-4">
            <div class="container">  
                <div class="row">
                    <!-- start feature box item -->
                    <div class="col-md-12 col-sm-12 col-xs-12 sm-margin-five-bottom sm-text-center xs-margin-30px-bottom ">
                        <h4 class="text-extra-dark-gray font-weight-600 alt-font no-margin">Lab 4: Mappings </h4>

                        <br>
                            
                        <p style="font-size: 16px;"><strong style="font-size: 22px;">Objective:</strong> In this lab, you will define a custom mapping for a new index that represents orders of products. You will also disable the <strong>_all</strong> field of an index.</p>


                         <h5 class="alt-font tit-heade">
                          1. Take a close look at the following document which represents an order from a customer, then answer the questions below:   
                        </h5>

                    <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

       {
        "customer_id" : "442",
        "shipped" : false,
        "items" : [
            {
                "upc12" : "034700624105",
                "quantity" : 4,
                "price" : 9.45
            },
            {
                "upc12" : "070670001720",
                "quantity" : 1,
                "price" : 10.42     
            }
        ]
    }
                        </pre>
                        <br>
                        <ul class="list-un">
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> What data type do you think <strong>"shipped"</strong> will map to if you indexed this document?
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i>Suppose we need <strong>customer_id</strong> to be mapped as a keyword. If we index this document above, what data type would the <strong>customer_id</strong> field get mapped to?
                            </li>
                            <li><i class="fa fa-long-arrow-right" aria-hidden="true"></i> It seems like <strong>quantity</strong> should get mapped to a long and <strong>price</strong> should get mapped to a float based on the values above. The not-so-obvious field is <strong>upc12.</strong> What data type do you think it will map to?
                            </li>
                        </ul>

                        <br>

                        <h5 class="alt-font tit-heade">
                          2. Index the order document above into a new index named <strong>orders-temp</strong> (copy-and-paste the JSON). <strong>Use order</strong> for the document type and use 1 for the document <strong>_id.</strong>    
                        </h5>
                       
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br>
                        <br>
                        <h5 class="alt-font tit-heade">
                          3. IGet the mappings for <strong>orders-temp:</strong>  
                        </h5>

                        <ul class="list-un" style="line-height: 39px;">
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> What is the data type of <strong>customer_id?</strong> Why? <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small bt-a">Show answer:</a>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Did <strong>"shipped"</strong> get mapped to the data you expected? <br>
                            </li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Notice quantity and price got mapped to the expected types. <br>
                            </li>
                            <li>
                            <li>
                                <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Why did <strong>upc12</strong> get mapped to <strong>"text"?</strong> <br>
                                <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                            </li>
                        </ul>

                        <h5 class="alt-font tit-heade">
                          4. Let's create a new index named orders-2017-01 that contains a custom mapping similar to <strong>orders-temp.</strong> Type the following command into the Console, but <i>do not run the command yet:</i>   
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

    PUT orders-2017-01
     {

     }
                               
                         </pre>

                         <br>
                        <h5 class="alt-font tit-heade">
                          5. Copy-and-paste the <strong>"mappings"</strong> section from the <strong>orders-temp</strong> index into your <strong>PUT</strong> command, <i>but do not execute the command yet.</i> 
                        </h5>

                      
                        <h5 class="alt-font tit-heade">
                          6. Change the data type of <strong>"customer_id"</strong> to <strong>"keyword"</strong> only, change the data type of <strong>"quantity"</strong> to <strong>"integer"</strong>, and change the data type of <strong>"upc12"</strong> to be <strong>"keyword"</strong> only.   
                        </h5>

                       
                        <h5 class="alt-font tit-heade">
                          7. Now run the <strong>PUT</strong> command that creates the <strong>orders-2017-01</strong> index. Verify the custom mapping worked by getting the <strong>_mappings</strong> of <strong>orders-2017-01.</strong>
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>
                        <br>
                        <br>
                        <h5 class="alt-font tit-heade">
                          8. Index the order document from earlier into your <strong>orders-2017-01</strong> index as an <strong>order</strong> type with an <strong>_id of 1:</strong> 
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

        PUT orders-2017-01/order/1
    {
        "customer_id" : "442",
        "shipped" : false,
        "items" : [
            {
                "upc12" : "034700624105",
                "quantity" : 4,
                "price" : 9.45
            },
            {
                "upc12" : "070670001720",
                "quantity" : 1,
                "price" : 10.42     
            }
        ]
    }
                               
                         </pre>
                         <br>
                        <h5 class="alt-font tit-heade">
                          9. Run a <strong>_search</strong> on <strong>orders-2017-01</strong> to verify the document from the previous step was indexed successfully. 
                        </h5>
                        <h5 class="alt-font tit-heade">
                          10. What is the value of the <strong>"dynamic"</strong> property of your <strong>"order"</strong> mapping for the <strong>orders-2017-01</strong> index?
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>
                        <h5 class="alt-font tit-heade">
                          11. Try to index the following new document into <strong>orders-2017-01 as an order</strong> type with an <strong>_id of 2.</strong> Do you think it will work successfully? 
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

    {

        "order_date" : "2017-01-15"
    }
                               
                         </pre>
                         <br>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>
                        <h5 class="alt-font tit-heade">
                          12. The previous document should have indexed successfully. View the mappings of <strong>strorders-2017-01.</strong> Notice there is new field in the mapping named <strong>"order_date"</strong> in the <strong>"order"</strong> mapping. What data type did Elasticsearch choose for <strong>"order_date"?</strong>
                        </h5>

                        <h5 class="alt-font tit-heade">
                          13. Change the <strong>"dynamic"</strong> property of the <strong>"order"</strong> mapping to <strong>"false".</strong>
                        </h5>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>
                        <h5 class="alt-font tit-heade">
                          14. Try to index the following new document into <strong>orders-2017-01</strong> as an order type with <strong>_id</strong> equal to 3. Notice it contains a field named <strong>"ship_date"</strong> that is not defined in the mapping. Can you index this document successfully, and what happens to the mapping?
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

    {
      "ship_date" : "2017-01-20"
    }
                               
                         </pre>
                         <br>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>
                        <h5 class="alt-font tit-heade">
                          15. View the <strong>_mappings</strong> of <strong>orders-2017-01</strong> and notice that the <strong>order</strong> mapping does not define a <strong>"ship_date"</strong> field.
                        </h5>

                        <h5 class="alt-font tit-heade">
                          16. Run a <strong>_search</strong> on <strong>orders-2017-01.</strong> Notice that the document with <strong>_id 3</strong> is in the index, and it has a <strong>"ship_date"</strong> field! The indexing worked, but the mapping was not altered.
                        </h5>

                        <h5 class="alt-font tit-heade">
                          17. Change the <strong>"dynamic"</strong> property of <strong>orders-2017-01 to "strict"</strong> and try to index the following <strong>order</strong> document with an <strong>_id of 4.</strong> What should the result be this time?
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

    PUT orders-2017-01/order/4
    {
      "ship_date" : "2017-01-25"
    }
                               
                         </pre>
                         <br>
                         <p>The indexing should fail because <strong>"ship_date"</strong> is not defined in the <strong>order</strong> mapping:</p>

                         <pre class="bash" style="line-height: 28px;padding:0;">

    {
      "error": {
        "root_cause": [
          {
            "type": "strict_dynamic_mapping_exception",
            "reason": "mapping set to strict, dynamic introduction of [ship_date] within [order] is not allowed"
          }
        ],
        "type": "strict_dynamic_mapping_exception",
        "reason": "mapping set to strict, dynamic introduction of [ship_date] within [order] is not allowed"
      },
      "status": 400
   }      
                        </pre>
                         <br>
                        <a href="#" class="btn pofo-button-25 sm-display-table button-style5  btn-dark-gray btn-rounded  btn-very-small">Show answer:</a>

                        <br><br>
                        <h5 class="alt-font tit-heade">
                          18. Notice the <strong>order</strong> mapping has a field named <strong>"items"</strong> that contains an inner JSON object that consists of three fields: <strong>"price", "quantity"</strong> and <strong>"upc12":</strong>
                        </h5>
                        <pre class="bash" style="line-height: 28px;background: none; padding:0;color:#000;">

    "items": {
            "properties": {
              "price": {
                "type": "float"
              },
              "quantity": {
                "type": "integer"
              },
              "upc12": {
                "type": "keyword"
              }
            }
          },
                               
                         </pre>
                         <p>
                            
                    </div>
                </div>
            </div>
</section>

        
	   
       
         
         
                <div class="container" class="footer-standard-dark bg-extra-dark-gray" style="background-color:#141414!important;padding:1% !important">
                    <div class="row">
                        <!-- start copyright -->
                        <div class="col-md-6 col-sm-6 col-xs-12 text-left text-small xs-text-center">&copy; 2019 designed and maintained by webomindapps</a></div>
                        <div class="col-md-6 col-sm-6 col-xs-12 text-right text-small xs-text-center">
                            <a href="javascript:void(0);" class="text-dark-gray">Term and Condition</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:void(0);" class="text-dark-gray">Privacy Policy</a>
                        </div>
                        <!-- end copyright -->
                    </div>
                </div>
         
      
        <!-- end footer -->
        <!-- start scroll to top -->
        <a class="scroll-top-arrow" href="javascript:void(0);"><i class="ti-arrow-up"></i></a>
        <!-- end scroll to top  -->
        <!-- javascript libraries -->
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/modernizr.js"></script>
        <script type="text/javascript" src="js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
        <script type="text/javascript" src="js/skrollr.min.js"></script>
        <script type="text/javascript" src="js/smooth-scroll.js"></script>
        <script type="text/javascript" src="js/jquery.appear.js"></script>
        <!-- menu navigation -->
        <script type="text/javascript" src="js/bootsnav.js"></script>
        <script type="text/javascript" src="js/jquery.nav.js"></script>
        <!-- animation -->
        <script type="text/javascript" src="js/wow.min.js"></script>
        <!-- page scroll -->
        <script type="text/javascript" src="js/page-scroll.js"></script>
        <!-- swiper carousel -->
        <script type="text/javascript" src="js/swiper.min.js"></script>
        <!-- counter -->
        <script type="text/javascript" src="js/jquery.count-to.js"></script>
        <!-- parallax -->
        <script type="text/javascript" src="js/jquery.stellar.js"></script>
        <!-- magnific popup -->
        <script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
        <!-- portfolio with shorting tab -->
        <script type="text/javascript" src="js/isotope.pkgd.min.js"></script>
        <!-- images loaded -->
        <script type="text/javascript" src="js/imagesloaded.pkgd.min.js"></script>
        <!-- pull menu -->
        <script type="text/javascript" src="js/classie.js"></script>
        <script type="text/javascript" src="js/hamburger-menu.js"></script>
        <!-- counter  -->
        <script type="text/javascript" src="js/counter.js"></script>
        <!-- fit video  -->
        <script type="text/javascript" src="js/jquery.fitvids.js"></script>
        <!-- equalize -->
        <script type="text/javascript" src="js/equalize.min.js"></script>
        <!-- skill bars  -->
        <script type="text/javascript" src="js/skill.bars.jquery.js"></script> 
        <!-- justified gallery  -->
        <script type="text/javascript" src="js/justified-gallery.min.js"></script>
        <!--pie chart-->
        <script type="text/javascript" src="js/jquery.easypiechart.min.js"></script>
        <!-- instagram -->
        <script type="text/javascript" src="js/instafeed.min.js"></script>
        <!-- retina -->
        <script type="text/javascript" src="js/retina.min.js"></script>
        <!-- revolution -->
        <script type="text/javascript" src="revolution/js/jquery.themepunch.tools.min.js"></script>
        <script type="text/javascript" src="revolution/js/jquery.themepunch.revolution.min.js"></script>
        <!-- revolution slider extensions (load below extensions JS files only on local file systems to make the slider work! The following part can be removed on server for on demand loading) -->
        <!--<script type="text/javascript" src="revolution/js/extensions/revolution.extension.actions.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.carousel.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.kenburn.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.layeranimation.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.migration.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.navigation.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.parallax.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.slideanims.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.video.min.js"></script>-->
        <!-- setting -->
        <script type="text/javascript" src="js/main.js"></script>
    </body>
</html>